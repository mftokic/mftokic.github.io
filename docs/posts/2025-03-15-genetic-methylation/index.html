<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mike Tokic">
<meta name="dcterms.date" content="2025-03-15">
<meta name="description" content="Understanding genetic methylation can change your life">

<title>Your Genes Are Making You Sick – Thoughts on Things</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../logo.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LPFFKTCPJX"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-LPFFKTCPJX', { 'anonymize_ip': true});
</script>
<meta name="quarto:status" content="draft">


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Your Genes Are Making You Sick – Thoughts on Things">
<meta property="og:description" content="Understanding genetic methylation can change your life">
<meta property="og:image" content="https://mftokic.github.io/posts/2025-03-15-genetic-methylation/image.png">
<meta property="og:site_name" content="Thoughts on Things">
<meta property="og:image:height" content="615">
<meta property="og:image:width" content="1024">
<meta name="twitter:title" content="Your Genes Are Making You Sick – Thoughts on Things">
<meta name="twitter:description" content="Understanding genetic methylation can change your life">
<meta name="twitter:image" content="https://mftokic.github.io/posts/2025-03-15-genetic-methylation/image.png">
<meta name="twitter:image-height" content="615">
<meta name="twitter:image-width" content="1024">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner"><div id="quarto-draft-alert" class="alert alert-warning"><i class="bi bi-pencil-square"></i>Draft</div>
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Thoughts on Things</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../start_here.html"> 
<span class="menu-text">Start Here</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../software.html"> 
<span class="menu-text">Software</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../books.html"> 
<span class="menu-text">Books</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../health.html"> 
<span class="menu-text">Health</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://personal-blog-ai-chat-mftokic.replit.app/"> 
<span class="menu-text">Ask My AI</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/michaeltokic/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/mftokic"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/mftokic"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Your Genes Are Making You Sick</h1>
                  <div>
        <div class="description">
          Understanding genetic methylation can change your life
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">life</div>
                <div class="quarto-category">health</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Mike Tokic </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">March 15, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="what-gets-measured-gets-managed" class="level3">
<h3 class="anchored" data-anchor-id="what-gets-measured-gets-managed">What Gets Measured, Gets Managed</h3>
<p>Our bodies are mostly a mystery to a regular person. Everyone takes vitamins, but do they actually help your body operate better? If you don’t know what kind of vitamins your body needs theres a good chance supplements you take every day are actively hurting your body or are simply being pissed down the drain (literally). Unabsorbed by your body. Nobody wants to take something that is a waste of time. So how do you know what nutrients your body needs? This is where understanding methylation in your body comes in.</p>
</section>
<section id="whats-methylation" class="level3">
<h3 class="anchored" data-anchor-id="whats-methylation">What’s Methylation</h3>
<p>Methylation is the process of converting nutrients you eat into things your body can actually use. We eat crude oil in the form of food, and our body processes it into gasoline in the form of nutrients to use for various processes that help us thrive. The issue is that our body rarely does this all perfectly. Many of us have gene mutations that inhibit this kind of conversation process. Let’s walk through some of the most common gene mutations around methylation and see how we can make sure our bodies are operating at their maximal potential.</p>
</section>
<section id="mthfr" class="level3">
<h3 class="anchored" data-anchor-id="mthfr">MTHFR</h3>
<p>Commonly known as the “mother fucker” gene, this one can be a real mother fucker. Up to 44% of people in the world carry this gene mutation. MTHFR deals with how our body handles the nutrient called folate. It translates the folate we get from our food into a form our bodies can use called methylfolate or 5-MTHF, which is the methylated version of folate.</p>
<p>5-MTHF helps break down a compound in our body called homocysteine. some have called it the most inflamatory compound in the human body. Inflammation is very bad for our body folks. When this compound is high all crazy types of things happen. Here are just a couple of things that are impacted.</p>
<ul>
<li>Creating neurotransmitters</li>
<li>DNA repair</li>
<li>Detoxing</li>
<li>Regulating blood pressure</li>
<li>Miscarriages during pregnancy</li>
<li>Anxiety</li>
</ul>
<p>Folate can be found in leafy greens and legumes. But the most common way we consume folate is through a compound called folic acid. Folic acid is the most common additive to our food. It’s literally everywhere. White rice and can flour contain folic acid. When ingredients say “fortified” or “enriched”, that means folic acid was added. This is bad news for people with the MTHFR mutation because they cannot process folic acid into the form our body needs. I will repeat, folic acid is the most common additive in food but cannot be properly processed by almost half of the worlds population. It’s even found in some prenatal vitamins, which has been linked to miscarriages and postpartum depression. Not good!</p>
<p>I know this is kind of scary to read, but thankfully there is some good news. There are easy ways to work around this gene mutation and ensure you are thriving in life. Here’s what to do.</p>
<ul>
<li>Avoid all forms of folic acid, which limits your processed food intake, which is a major health win overall</li>
<li>Take the methylated version of folate, <a href="https://a.co/d/4TwoR4o">called 5-MTHF</a>, at night before going to bed</li>
</ul>
</section>
<section id="mtr" class="level3">
<h3 class="anchored" data-anchor-id="mtr">MTR</h3>
<p>Similar to MTHFR, the MTR gene also plays in a role in regulating homocysteine by converting it into another compound called methionine. For this reaction to work, your body needs vitamin B12, specifically the methylated versions of B12 like methylcobalamin or hydroxocobalamin.</p>
<p>If you have this gene mutation, you may experience certain gut issues.</p>
<ul>
<li>Gas</li>
<li>Bloating</li>
<li>Diarrhea</li>
<li>Constipation</li>
<li>Cramping</li>
</ul>
<p>Supplementing with B12 is crucial for this gene mutation, but similar to MTHFR not all supplements are created equal. Stay away from a form of B12 called Cyanocobalamin. This form contains hydrogen cyanide, which is a known neurotoxin. It’s also added into cheap energy drinks and even milk! Companies do this because it’s cheap and they don’t care, so care for yourself and avoid it at all costs.</p>
<p>Here’s what to do if you have this gene mutation.</p>
<ul>
<li>Limit alcohol, which depletes methyl donors and can interfere with B12 absorption</li>
<li>Avoid heavy metals (like mercury and lead) that bind to B12, making it unavailable for MTR to use</li>
<li>Take the methylated version of B12, either methylcobalamin or hydroxocobalamin found in <a href="https://a.co/d/fHQiO9z">methylated multivitamins</a>
<ul>
<li>FYI not everyone can process methylcobalamin, but 100% of humans can process hydroxocobalamin in their body</li>
<li>If you also have the COMT gene mutation, you absolutely should be taking hydroxocobalamin since your body can process that better than other forms like methylcobalamin</li>
</ul></li>
</ul>
</section>
<section id="mtrr" class="level3">
<h3 class="anchored" data-anchor-id="mtrr">MTRR</h3>
<p>This gene works closely with the MTR gene, hence similar names. It helps reactivate B12 that was used by the MTR gene when converting homocysteine into methionine. Over time B12 can become oxidized when used by the MTR gene, so MTRR comes in to convert it back into its methylated form so it can be properly used again. MTRR is also important in the thyroid, helping convert one important thyroid hormone T4 into T3, which happens in your gut.</p>
<p>If you have this gene mutation, you might suffer from the following.</p>
<ul>
<li>Heart burn</li>
<li>Acid reflux</li>
<li>Thyroid issues</li>
<li>Short temper</li>
<li>High blood pressure</li>
<li>Exacerbations of ADD, ADHD, OCD</li>
</ul>
<p>Follow the same guidelines as described in the MTR section above. Avoid the wrong types of B12 and make sure to take versions that your body can actually use.</p>
</section>
<section id="ahcy" class="level3">
<h3 class="anchored" data-anchor-id="ahcy">AHCY</h3>
<p>This gene helps break down S-Adenosylhomocysteine (SAH) into homocysteine and adenosine. This process is critical because SAH is a strong inhibitor of methylation enzymes. If it builds up, it slows down methylation reactions throughout the body. SAH is one of the most inflammatory compounds in your body, even worse than homocysteine.</p>
<p>This is a rare gene mutation to have, but people with it can have addictive tendencies. For example, addiction to video games as kids, then phones as teenagers, then drugs, alcohol, sugar, working out, eating, sex, shopping, working. This is caused by wide ranges in dopamine in the body, which is tied to our behaviors. So people with this mutation tend to seek out dopamine rewarding behavior.</p>
<p>Here’s what to do if you have this gene mutation.</p>
<ul>
<li>Consume collagen to ensure your ingesting enough glycine to help your body balance methionine. If AHCY isn’t efficiently breaking down SAH, excess methionine intake might lead to toxic byproducts instead of proper methylation.</li>
</ul>
</section>
<section id="comt" class="level3">
<h3 class="anchored" data-anchor-id="comt">COMT</h3>
<p>This gene breaks down major neurotransmitters in the body. Things like dopamine and adrenaline. It’s also responsible for metabolizing estrogens, and having too much of this hormone for both men and women can be bad. When your body can’t break these these things, all sorts of things get out of whack.</p>
<p>If you have this gene mutation, you might suffer from the following.</p>
<ul>
<li>Stress and anxiety</li>
<li>Trouble winding down and sleeping</li>
<li>Quick to anger, slow to calm down</li>
<li>Higher estrogen levels, which can lead to water retention under the belly button and around the waist</li>
<li>Pain sensitivity</li>
<li>ADD or ADHD</li>
</ul>
<p>Thankfully it’s not all bad with this gene mutation. Because things like dopamine stay around longer in your brain, it can lead to higher creativity and deep thinking. But this comes at a cost of overanalyzing and worrying.</p>
<p>Here’s what to do if you have this gene mutation.</p>
<ul>
<li>Avoid green tea and quercitin (found in green tea and other supplements) at all costs. These can make your COMT symptoms much worse.</li>
<li>If you have excess water retention around your belly, look into taking a diindolylmethane (DIM) supplement, which can help reduce that water retention by removing excess estrogen in your body.</li>
<li>Consider taking a trimethylglycine (TMG) supplement, which can help regulate the processes that maintain your neurotransmitters</li>
</ul>
</section>
<section id="how-they-all-connect" class="level3">
<h3 class="anchored" data-anchor-id="how-they-all-connect">How They All Connect</h3>
<p>Processes in our body can be thought of like a group of construction workers passing sandbags to each other in a single line. One gene can do a process the body needs, then pass the output along to another gene to do another process, and so on. But if one of those genes can only pass along 4 sandbags instead of the 10 needed, then the most any of the downstream genes will get is 40% of what’s required.</p>
<p>This is why understanding genetic methylation in our bodies is so important. Each of these 5 genes play a crucial role in making our bodies work.</p>
<p>Let’s do a recap of each gene and what they do in our methylation process.</p>
<ul>
<li>MTHFR starts the process by making active folate (5-MTHF).</li>
<li>MTR uses 5-MTHF &amp; B12 to convert homocysteine into methionine.</li>
<li>MTRR keeps MTR working by recharging B12.</li>
<li>AHCY clears out byproducts and provides fresh homocysteine.</li>
<li>COMT uses methylation to break down stress chemicals and estrogen.</li>
</ul>
<p>If any of these genes don’t work well, the whole system slows down! The fix is to support each gene with the right nutrients and to avoid things your body may not be able to handle.</p>
</section>
<section id="dna-testing" class="level3">
<h3 class="anchored" data-anchor-id="dna-testing">DNA Testing</h3>
<p>How the heck do I know if I have any gene mutations? This is where testing comes in. There are a lot of services out there that will do a genetic methylation test for you. They cost a few hundred dollars, but it’s a test you only need to run once in your life.</p>
<p>It’s a simple cheek swab you do at home then mail in. I used a service called <a href="https://10xhealthsystem.com/genetest/">10X Health</a>, but there are many providers out there who can help.</p>
</section>
<section id="final-thoughts" class="level3">
<h3 class="anchored" data-anchor-id="final-thoughts">Final Thoughts</h3>
<p>I got my results back about a month ago, and things did not look good. I had mutations in all 5 genes except AHCY, with the MTHFR and COMT genes having the strongest mutation (meaning they don’t work). These results are kind of like getting a personality test result. You start to understand who you are as a person more. Why you act and feel a certain way. You start to understand your parents and siblings so much more, because they most likely carry similar genes as you. It’s life changing to receive information that shows you how to live a better life with 100% certainty.</p>
<p>My gene results showed that I had to really crack down on folic acid (MTHFR gene) and green tea/quercetin (COMT). I realized some of my most beloved foods and supplements, that are supposed to be healthy, actually contain things that are the worst to put into my body. Since cleaning those up I have had an easier time falling asleep, and my brain is working better than ever. It’s also been easier to avoid processed food, because I know almost all of it contains things that my body cannot handle well. So the temptation to binge on them has been removed. Thank god!</p>
<p>If you’d like to live up to your highest potential in life. Consider taking control of your genetics and get tested! It might just change your life. To learn more about genetic mythlation, <a href="https://www.youtube.com/@ultimatehumanpodcast">check out Gary Breka’s channel on YouTube</a>, he’s got tons of great info.</p>
<p><a href="https://www.shutterstock.com/search/watson-crick-dna-model?cr=bc&amp;gclid=c03f1496e24a1f3767de7343192784c5&amp;gclsrc=3p.ds&amp;image_type=illustration&amp;kw=shutterstock&amp;msclkid=c03f1496e24a1f3767de7343192784c5&amp;pl=PPC_BNG_US_DSA-&amp;utm_campaign=CO%3DUS_LG%3DEN_BU%3DIMG_AD%3DDSA_TS%3Dlggeneric_RG%3DAMER_AB%3DACQ_CH%3DSEM_OG%3DCONV_PB%3DMicrosoft-Ads&amp;utm_content=FF%3DDSA-All-Pages_AU%3DSite+Visitors&amp;utm_medium=cpc&amp;utm_source=bing&amp;utm_term=shutterstock">Photo Credit</a></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/mftokic\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>